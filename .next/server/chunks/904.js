"use strict";exports.id=904,exports.ids=[904],exports.modules={2132:(e,a,s)=>{s.d(a,{Z:()=>v});var t=s(326),r=s(8307),l=s(748),i=s(7358),n=s(4061),c=s(3855),d=s(6283),o=s(6728),m=s(5529),h=s(1810),u=s(772),x=s(4432),f=s(97),p=s(8758),j=s(434),w=s(5047),y=s(7068),N=s(7577),g=s(2945);let v=()=>{let e=(0,w.useRouter)(),{toast:a}=(0,y.pm)(),s=(0,g.e)(),[v,b]=(0,N.useState)(null);(0,N.useEffect)(()=>{(async()=>{let{data:{user:e}}=await s.auth.getUser();b(e)})()},[s.auth]);let k=async()=>{try{await s.auth.signOut(),a({title:"Sesi\xf3n cerrada",description:"Has cerrado tu sesi\xf3n exitosamente."}),e.push("/login")}catch(e){console.error("Error signing out:",e),a({title:"Error",description:"Error al cerrar sesi\xf3n",variant:"destructive"})}};return t.jsx("header",{className:"border-b border-module-border bg-background sticky top-0 z-50",children:t.jsx("div",{className:"container mx-auto px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center",children:t.jsx(j.default,{href:"/",className:"hover:opacity-80 transition-calm",children:t.jsx("h1",{className:"font-serif text-2xl font-medium text-primary",children:"iNFORiA"})})}),t.jsx("div",{className:"flex-1 max-w-md mx-8",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx(r.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),t.jsx(x.I,{placeholder:"Buscar paciente por nombre, etiqueta...",className:"pl-10 bg-background"})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)(f.h_,{children:[t.jsx(f.$F,{asChild:!0,children:t.jsx(u.z,{variant:"ghost",size:"icon",className:"hover:bg-secondary",children:t.jsx(l.Z,{className:"h-5 w-5"})})}),(0,t.jsxs)(f.AW,{align:"end",className:"w-56",children:[t.jsx(f.Xi,{className:"cursor-pointer",children:(0,t.jsxs)(j.default,{href:"/",className:"w-full flex items-center",children:[t.jsx(i.Z,{className:"mr-2 h-4 w-4"}),"Dashboard"]})}),t.jsx(f.Xi,{className:"cursor-pointer",children:(0,t.jsxs)(j.default,{href:"/patient-list",className:"w-full flex items-center",children:[t.jsx(n.Z,{className:"mr-2 h-4 w-4"}),"Pacientes"]})}),t.jsx(f.Xi,{className:"cursor-pointer",children:(0,t.jsxs)(j.default,{href:"/new-patient",className:"w-full flex items-center",children:[t.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Crear Ficha de Paciente"]})}),t.jsx(f.Xi,{className:"cursor-pointer",children:(0,t.jsxs)(j.default,{href:"/session-workspace",className:"w-full flex items-center",children:[t.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"Nueva Sesi\xf3n"]})}),t.jsx(f.VD,{}),t.jsx(f.Xi,{className:"cursor-pointer",children:(0,t.jsxs)(j.default,{href:"/faqs",className:"w-full flex items-center",children:[t.jsx(o.Z,{className:"mr-2 h-4 w-4"}),"FAQs"]})})]})]}),(0,t.jsxs)(f.h_,{children:[t.jsx(f.$F,{asChild:!0,children:t.jsx(u.z,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-secondary",children:t.jsx(p.qE,{className:"h-8 w-8",children:v?.user_metadata?.avatar_url?t.jsx(p.F$,{src:v.user_metadata.avatar_url,alt:v?.user_metadata?.full_name||"Usuario"}):t.jsx(p.Q5,{className:"bg-primary/10 text-primary",children:v?.user_metadata?.full_name?v.user_metadata.full_name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):v?.email?.slice(0,2).toUpperCase()||"U"})})})}),(0,t.jsxs)(f.AW,{align:"end",className:"w-48",children:[(0,t.jsxs)("div",{className:"px-3 py-2",children:[t.jsx("p",{className:"text-sm font-medium text-foreground",children:v?.user_metadata?.full_name||"Usuario"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:v?.email})]}),t.jsx(f.VD,{}),t.jsx(f.Xi,{className:"cursor-pointer",children:(0,t.jsxs)(j.default,{href:"/my-account",className:"w-full flex items-center",children:[t.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Mi Cuenta"]})}),t.jsx(f.VD,{}),(0,t.jsxs)(f.Xi,{className:"cursor-pointer text-destructive focus:text-destructive",onClick:k,children:[t.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Cerrar Sesi\xf3n"]})]})]})]})]})})})}},7673:(e,a,s)=>{s.d(a,{g:()=>i});var t=s(326),r=s(7577),l=s(7863);let i=r.forwardRef(({className:e,...a},s)=>t.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));i.displayName="Textarea"},5379:(e,a,s)=>{s.d(a,{Wd:()=>r,qi:()=>l});let t=(0,s(2945).e)(),r={async getAll(){let{data:e,error:a}=await t.from("patients").select("*").order("created_at",{ascending:!1});if(a)throw a;return e||[]},async getById(e){let{data:a,error:s}=await t.from("patients").select("*").eq("id",e).maybeSingle();if(s)throw s;return a},async create(e){let{data:a,error:s}=await t.from("patients").insert(e).select().single();if(s)throw s;return a},async update(e,a){let{data:s,error:r}=await t.from("patients").update(a).eq("id",e).select().single();if(r)throw r;return s},async delete(e){let{error:a}=await t.from("patients").delete().eq("id",e);if(a)throw a},async search(e){let{data:a,error:s}=await t.from("patients").select("*").or(`name.ilike.%${e}%,email.ilike.%${e}%`).order("created_at",{ascending:!1});if(s)throw s;return a||[]}},l={async getAll(){let{data:e,error:a}=await t.from("reports").select(`
        *,
        patient:patients(
          id,
          name,
          email
        )
      `).order("created_at",{ascending:!1});if(a)throw a;return e||[]},async getByPatient(e){let{data:a,error:s}=await t.from("reports").select("*").eq("patient_id",e).order("created_at",{ascending:!1});if(s)throw s;return a||[]},async create(e){let{data:a,error:s}=await t.from("reports").insert(e).select().single();if(s)throw s;return a},async update(e,a){let{data:s,error:r}=await t.from("reports").update(a).eq("id",e).select().single();if(r)throw r;return s},async delete(e){let{error:a}=await t.from("reports").delete().eq("id",e);if(a)throw a}}},7027:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(2881).Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},8091:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(2881).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},949:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(2881).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4019:(e,a,s)=>{s.d(a,{Z:()=>t});let t=(0,s(2881).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}};