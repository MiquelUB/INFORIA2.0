(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9164:function(e,t,n){Promise.resolve().then(n.bind(n,6281)),Promise.resolve().then(n.t.bind(n,911,23)),Promise.resolve().then(n.t.bind(n,7960,23))},6281:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return s},a:function(){return a}});var l=n(7437),i=n(2265),u=n(5452);let r=(0,i.createContext)({user:null,profile:null,loading:!0,updateProfile:async()=>{},signOut:async()=>{}}),s=e=>{let{children:t}=e,n=(0,u.createClientComponentClient)(),[s,a]=(0,i.useState)(null),[o,f]=(0,i.useState)(null),[d,c]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{var e;let{data:{session:t}}=await n.auth.getSession();if(a(null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null),null==t?void 0:t.user){let{data:e}=await n.from("profiles").select("*").eq("id",t.user.id).single();f(e)}c(!1)})();let{data:e}=n.auth.onAuthStateChange((e,t)=>{var l;a(null!==(l=null==t?void 0:t.user)&&void 0!==l?l:null),(null==t?void 0:t.user)?(async()=>{let{data:e}=await n.from("profiles").select("*").eq("id",t.user.id).single();f(e)})():f(null)});return()=>{e.subscription.unsubscribe()}},[n]);let h=async e=>{if(!s)return;let{error:t}=await n.from("profiles").update(e).eq("id",s.id);if(t)throw t;let{data:l}=await n.from("profiles").select("*").eq("id",s.id).single();f(l)},v=async()=>{await n.auth.signOut()};return(0,l.jsx)(r.Provider,{value:{user:s,profile:o,loading:d,updateProfile:h,signOut:v},children:t})},a=()=>{let e=(0,i.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7960:function(){},911:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}}},function(e){e.O(0,[944,545,452,971,117,744],function(){return e(e.s=9164)}),_N_E=e.O()}]);